[gd_scene load_steps=20 format=2]

[ext_resource path="res://src/environment/ground/ground.tscn" type="PackedScene" id=1]
[ext_resource path="res://src/player/player.tscn" type="PackedScene" id=2]
[ext_resource path="res://src/gui/pause_layer/pause_layer.tscn" type="PackedScene" id=3]
[ext_resource path="res://src/environment/moving_platform/moving_platform.tscn" type="PackedScene" id=4]
[ext_resource path="res://addons/jm_pp_outlines/jm_pp_outlines_camera.gd" type="Script" id=5]
[ext_resource path="res://src/environment/static_platform/static_platform.tscn" type="PackedScene" id=6]
[ext_resource path="res://assets/shaders/random_glitches.shader" type="Shader" id=7]
[ext_resource path="res://src/levels/level_1/level_1.gd" type="Script" id=8]
[ext_resource path="res://src/gui/win_game_layer/win_game_layer.tscn" type="PackedScene" id=9]
[ext_resource path="res://src/gui/game_over_screen/game_over_screen.tscn" type="PackedScene" id=10]
[ext_resource path="res://src/levels/level_1/level_1.tres" type="Environment" id=11]
[ext_resource path="res://src/environment/spring/spring.tscn" type="PackedScene" id=12]

[sub_resource type="BoxShape" id=1]

[sub_resource type="CubeMesh" id=2]
size = Vector3( 5, 5, 0.2 )

[sub_resource type="SpatialMaterial" id=3]
albedo_color = Color( 0, 0.509804, 0.956863, 1 )

[sub_resource type="BoxShape" id=4]
extents = Vector3( 2.5, 2.5, 0.1 )

[sub_resource type="BoxShape" id=5]
extents = Vector3( 0.25, 0.25, 0.25 )

[sub_resource type="PrismMesh" id=6]

[sub_resource type="ShaderMaterial" id=7]
shader = ExtResource( 7 )
shader_param/speed = 0.6
shader_param/ring_scale = 4.4
shader_param/wave_scale = 8.454
shader_param/random_scale = 4.6
shader_param/noise_scale = 0.03

[node name="Level1" type="Spatial"]
script = ExtResource( 8 )

[node name="PauseScreen" parent="." instance=ExtResource( 3 )]

[node name="WinGameScreen" parent="." instance=ExtResource( 9 )]

[node name="GameOverScreen" parent="." instance=ExtResource( 10 )]

[node name="Player" parent="." instance=ExtResource( 2 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 6.47998, -215.719 )

[node name="PPOutlinesCamera" type="Camera" parent="Player"]
transform = Transform( 0.686231, -0.243767, 0.685321, -0.437283, 0.614654, 0.656494, -0.581267, -0.750186, 0.315199, 4.54974, 15.9972, 9.50401 )
cull_mask = 524287
script = ExtResource( 5 )
color_outline_scale = 2.0
depth_outline_scale = 2.0
depth_threshold = 1.0
depth_multiplier = 1000.0
edge_threshold = 0.2
max_edge_alpha = 0.9
edge_alpha_multiplier = 10.0
edge_color = Color( 0, 0, 0, 1 )
background_tex = null
depth_use_laplace = false
color_use_laplace = false
use_bg_texture = false

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource( 11 )

[node name="GlobalLight" type="DirectionalLight" parent="."]
transform = Transform( 1, 0, 0, 0, -1.62921e-07, 1, 0, -1, -1.62921e-07, 0, 102.381, -110.774 )
light_energy = 0.9
shadow_enabled = true
directional_shadow_bias_split_scale = 0.0
directional_shadow_max_distance = 300.0

[node name="DyingTrigger" type="Area" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.30069, -205.875 )
collision_layer = 2

[node name="CollisionShape" type="CollisionShape" parent="DyingTrigger"]
transform = Transform( 896.266, 0, 0, 0, 1, 0, 0, 0, 896.266, 0, -57.0031, 110.372 )
shape = SubResource( 1 )

[node name="Ground" parent="." instance=ExtResource( 1 )]
transform = Transform( 1.0001, 0, 0, 0, 1.0001, 0, 0, 0, 1.0001, -0.0503519, -2.50724, -0.07441 )

[node name="Ground2" parent="." instance=ExtResource( 1 )]
transform = Transform( 1.0001, 0, 0, 0, 1.0001, 0, 0, 0, 1.0001, -0.0503519, -15.5644, -102.102 )

[node name="Ground3" parent="." instance=ExtResource( 1 )]
transform = Transform( 1.0001, 0, 0, 0, 1.0001, 0, 0, 0, 1.0001, -0.0503519, -23.1726, -189.776 )

[node name="MovingPlatform" parent="." instance=ExtResource( 4 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.17698, -81.8578 )

[node name="Platform" parent="." instance=ExtResource( 6 )]
transform = Transform( -4.37114e-08, 1, -4.37114e-08, 2.98023e-08, -4.37114e-08, -1, -1, -4.37114e-08, -2.98023e-08, -27.9754, -20.7237, -227.697 )

[node name="Platform2" parent="." instance=ExtResource( 6 )]
transform = Transform( -4.37114e-08, 1, -4.37114e-08, 2.98023e-08, -4.37114e-08, -1, -1, -4.37114e-08, -2.98023e-08, -17.0284, -20.7237, -235.931 )

[node name="Platform3" parent="." instance=ExtResource( 6 )]
transform = Transform( -4.37114e-08, 1, -4.37114e-08, 2.98023e-08, -4.37114e-08, -1, -1, -4.37114e-08, -2.98023e-08, -4.77099, -17.9806, -235.931 )

[node name="Platform4" parent="." instance=ExtResource( 6 )]
transform = Transform( -4.37114e-08, 1, -4.37114e-08, 2.98023e-08, -4.37114e-08, -1, -1, -4.37114e-08, -2.98023e-08, 3.84436, -15.412, -243.241 )

[node name="Platform5" parent="." instance=ExtResource( 6 )]
transform = Transform( -4.37114e-08, 1, -4.37114e-08, 2.98023e-08, -4.37114e-08, -1, -1, -4.37114e-08, -2.98023e-08, 12.9839, -10.9007, -235.672 )

[node name="Platform6" parent="." instance=ExtResource( 6 )]
transform = Transform( -4.37114e-08, 1, -4.37114e-08, 2.98023e-08, -4.37114e-08, -1, -1, -4.37114e-08, -2.98023e-08, 19.4529, -7.14057, -229.136 )

[node name="Platform7" parent="." instance=ExtResource( 6 )]
transform = Transform( -4.37114e-08, 1, -4.37114e-08, 2.98023e-08, -4.37114e-08, -1, -1, -4.37114e-08, -2.98023e-08, 26.4941, -4.21511, -224.348 )

[node name="Platform8" type="KinematicBody" parent="."]
transform = Transform( -2.36042e-07, 5.4, -2.36042e-07, 2.98023e-08, -4.37114e-08, -1, -1, -4.37114e-08, -2.98023e-08, 15.6883, 0.766208, -216.392 )
collision_layer = 2

[node name="Mesh" type="MeshInstance" parent="Platform8"]
transform = Transform( 1, 0, 0, 0, 1, 1.3027e-15, -3.55271e-15, 1.3027e-15, 1, 0, 0, 0 )
mesh = SubResource( 2 )
skeleton = NodePath("../../..")
material/0 = SubResource( 3 )

[node name="CollisionShape" type="CollisionShape" parent="Platform8"]
shape = SubResource( 4 )

[node name="Platform9" type="KinematicBody" parent="."]
transform = Transform( -1, 1.19209e-07, -2.98023e-08, 2.98023e-08, -4.37114e-08, -1, 2.08616e-07, -5.4, 2.36042e-07, -0.31172, 0.766208, -227.392 )
collision_layer = 2

[node name="Mesh" type="MeshInstance" parent="Platform9"]
mesh = SubResource( 2 )
skeleton = NodePath("../../..")
material/0 = SubResource( 3 )

[node name="CollisionShape" type="CollisionShape" parent="Platform9"]
shape = SubResource( 4 )

[node name="PortalTrigger" type="Area" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0344, 5.39477, -240.678 )
collision_layer = 2
__meta__ = {
"_edit_group_": true
}

[node name="CollisionShape" type="CollisionShape" parent="PortalTrigger"]
transform = Transform( 22.5913, 0, 0, 0, 18.0731, 0, 0, 0, 1.25507, 0, 0, 0 )
shape = SubResource( 5 )

[node name="MeshInstance" type="MeshInstance" parent="PortalTrigger"]
transform = Transform( 5.4, 0, 0, 0, 4.32, 0, 0, 0, 0.3, 0, 0, 0 )
mesh = SubResource( 6 )
material/0 = SubResource( 7 )

[node name="Spring" parent="." instance=ExtResource( 12 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 5.24331, 1.85682, -216.454 )

[node name="Spring2" parent="." instance=ExtResource( 12 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 13.7519, -20.9326, -168.034 )

[node name="Spring3" parent="." instance=ExtResource( 12 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -11.9811, -13.4274, -100.458 )
[connection signal="body_entered" from="DyingTrigger" to="." method="_on_DyingTrigger_body_entered"]
[connection signal="body_entered" from="PortalTrigger" to="." method="_on_PortalTrigger_body_entered"]
